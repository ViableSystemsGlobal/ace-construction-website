(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{2381:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(5155),l=a(2115);function r(e){let{currentImage:s,onImageChange:a,label:r="Image"}=e,[d,i]=(0,l.useState)(!1),[c,n]=(0,l.useState)(!1),o=async e=>{if(!e.type.startsWith("image/"))return void alert("Please select an image file");i(!0);try{let s=new FormData;s.append("file",e);let t=await fetch("/api/upload",{method:"POST",body:s});if(t.ok){let e=await t.json();a(e.url)}else{let e=await t.json();alert("Upload failed: ".concat(e.error))}}catch(e){alert("Upload failed. Please try again.")}finally{i(!1)}};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:r}),s&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:s,alt:"Current image",className:"w-full max-w-md h-40 object-cover rounded-lg border"}),(0,t.jsx)("button",{onClick:()=>a(""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"\xd7"})]}),(0,t.jsxs)("div",{onDrop:e=>{e.preventDefault(),n(!1);let s=Array.from(e.dataTransfer.files);s.length>0&&o(s[0])},onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:()=>n(!1),className:"\n          border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors\n          ".concat(c?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400","\n          ").concat(d?"opacity-50 pointer-events-none":"","\n        "),children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files;s&&s.length>0&&o(s[0])},className:"hidden",id:"file-upload-".concat(r.replace(/\s+/g,"-").toLowerCase()),disabled:d}),(0,t.jsx)("label",{htmlFor:"file-upload-".concat(r.replace(/\s+/g,"-").toLowerCase()),className:"cursor-pointer",children:d?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-blue-600",children:"Uploading..."}),(0,t.jsx)("div",{className:"w-16 h-1 bg-gray-200 rounded mx-auto overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-blue-500 rounded animate-pulse"})})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-4xl text-gray-400",children:"\uD83D\uDCC1"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium text-blue-600",children:"Click to upload"})," or drag and drop"]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600",children:"Or enter image URL:"}),(0,t.jsx)("input",{type:"url",value:s||"",onChange:e=>a(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full p-2 border border-gray-300 rounded text-sm"})]})]})}function d(){let[e,s]=(0,l.useState)(null),[a,d]=(0,l.useState)("hero"),[i,c]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!0),[m,x]=(0,l.useState)("");(0,l.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/admin/homepage");if(e.ok){let a=await e.json();s(a)}else console.error("Failed to load data")}catch(e){console.error("Error loading data:",e)}finally{o(!1)}},g=async()=>{c(!0),x("");try{let s=await fetch("/api/admin/homepage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)x("Homepage updated successfully!"),setTimeout(()=>x(""),3e3);else{let e=await s.json();x("Failed to save: ".concat(e.error||"Unknown error"))}}catch(e){x("Error saving changes: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{c(!1)}};return n?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading homepage data..."})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("div",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Homepage Editor"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[m&&(0,t.jsx)("div",{className:"px-4 py-2 rounded ".concat(m.includes("successfully")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:m}),(0,t.jsx)("button",{onClick:g,disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:i?"Saving...":"Save Changes"})]})]})})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,t.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"hero",label:"Hero Section"},{id:"services",label:"Services"},{id:"about",label:"About"},{id:"articles",label:"Articles"},{id:"logos",label:"Trusted Logos"}].map(e=>(0,t.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(a===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"hero"===a&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Hero Section"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Badge Text"}),(0,t.jsx)("input",{type:"text",value:e.badge,onChange:a=>s({...e,badge:a.target.value}),className:"w-full p-3 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Headline"}),(0,t.jsx)("input",{type:"text",value:e.headline,onChange:a=>s({...e,headline:a.target.value}),className:"w-full p-3 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Subtext"}),(0,t.jsx)("textarea",{value:e.subtext,onChange:a=>s({...e,subtext:a.target.value}),rows:4,className:"w-full p-3 border border-gray-300 rounded-md"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(r,{currentImage:e.heroImage,onImageChange:a=>s({...e,heroImage:a}),label:"Hero Image"})})]}),"services"===a&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Services"}),(0,t.jsx)("button",{onClick:()=>{let a={id:Date.now().toString(),title:"New Service",description:"Service description",icon:"\uD83D\uDD27"};s({...e,services:[...e.services,a]})},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Add Service"})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.services.map((a,l)=>(0,t.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),(0,t.jsx)("input",{type:"text",value:a.icon,onChange:a=>{let t=[...e.services];t[l].icon=a.target.value,s({...e,services:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",value:a.title,onChange:a=>{let t=[...e.services];t[l].title=a.target.value,s({...e,services:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:a.description,onChange:a=>{let t=[...e.services];t[l].description=a.target.value,s({...e,services:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{let a=e.services.filter((e,s)=>s!==l);s({...e,services:a})},className:"bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600",children:"Delete"})})]})},a.id))})]}),"about"===a&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"About Section"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:e.aboutTitle,onChange:a=>s({...e,aboutTitle:a.target.value}),className:"w-full p-3 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:e.aboutDescription,onChange:a=>s({...e,aboutDescription:a.target.value}),rows:3,className:"w-full p-3 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Statistics"}),e.stats.map((a,l)=>(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Number"}),(0,t.jsx)("input",{type:"text",value:a.number,onChange:a=>{let t=[...e.stats];t[l].number=a.target.value,s({...e,stats:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Label"}),(0,t.jsx)("input",{type:"text",value:a.label,onChange:a=>{let t=[...e.stats];t[l].label=a.target.value,s({...e,stats:t})},className:"w-full p-2 border border-gray-300 rounded"})]})]},l))]})]}),"articles"===a&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Articles"}),(0,t.jsx)("button",{onClick:()=>{let a={id:Date.now().toString(),title:"New Article",excerpt:"Article excerpt",imageUrl:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=400"};s({...e,articles:[...e.articles,a]})},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Add Article"})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.articles.map((a,l)=>(0,t.jsxs)("div",{className:"border border-gray-200 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",value:a.title,onChange:a=>{let t=[...e.articles];t[l].title=a.target.value,s({...e,articles:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Excerpt"}),(0,t.jsx)("input",{type:"text",value:a.excerpt,onChange:a=>{let t=[...e.articles];t[l].excerpt=a.target.value,s({...e,articles:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsx)("div",{className:"md:col-span-3",children:(0,t.jsx)(r,{currentImage:a.imageUrl,onImageChange:a=>{let t=[...e.articles];t[l].imageUrl=a,s({...e,articles:t})},label:"Article Image - ".concat(a.title)})})]}),(0,t.jsx)("div",{className:"mt-2 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{let a=e.articles.filter((e,s)=>s!==l);s({...e,articles:a})},className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Delete"})})]},a.id))})]}),"logos"===a&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Trusted Partner Logos"}),(0,t.jsx)("button",{onClick:()=>{let a={id:Date.now().toString(),imageUrl:"https://via.placeholder.com/120x60/4F46E5/white?text=New+Partner",alt:"New Partner"};s({...e,trustedLogos:[...e.trustedLogos,a]})},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Add Logo"})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.trustedLogos.map((a,l)=>(0,t.jsxs)("div",{className:"border border-gray-200 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Alt Text"}),(0,t.jsx)("input",{type:"text",value:a.alt,onChange:a=>{let t=[...e.trustedLogos];t[l].alt=a.target.value,s({...e,trustedLogos:t})},className:"w-full p-2 border border-gray-300 rounded"})]}),(0,t.jsx)("div",{className:"flex justify-end items-end",children:(0,t.jsx)("button",{onClick:()=>{let a=e.trustedLogos.filter((e,s)=>s!==l);s({...e,trustedLogos:a})},className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Delete"})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(r,{currentImage:a.imageUrl,onImageChange:a=>{let t=[...e.trustedLogos];t[l].imageUrl=a,s({...e,trustedLogos:t})},label:"Logo - ".concat(a.alt)})})]},a.id))})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg text-red-600",children:"Failed to load homepage data"})})}},7942:(e,s,a)=>{Promise.resolve().then(a.bind(a,2381))}},e=>{e.O(0,[441,964,358],()=>e(e.s=7942)),_N_E=e.O()}]);